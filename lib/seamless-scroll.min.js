!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SeamlessScroll=e():t.SeamlessScroll=e()}(window,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!("number"==typeof e&&e>=0&&e!==1/0))throw new Error("".concat(t," option must be a non-negative number"))}function r(t,e){if(!0!==e&&!1!==e)throw new Error("".concat(t," option must be a boolean"))}n.r(e);var c=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,a=window.cancelAnimationFrame||window.mozCancelAnimationFrame;if(!c)throw new Error("seamless-scroll can't work, because of requestAnimationFrame is not supported in your browser!");"transition"in document.body.style==!1&&console.log("seamless-scroll may not work, because of css transition is support in your browser!"),e.default=function t(e){if(!(this instanceof t))throw new TypeError("SeamlessScroll must be called by the 'new' keyword as a constructor");var n=this;!function(t){if("[object Object]"!==Object.prototype.toString.apply(t))throw new Error("config must be an object");if(void 0===t.direction&&(t.direction="left"),void 0===t.duration&&(t.duration=300),void 0===t.delay&&(t.delay=3e3),void 0===t.activeIndex&&(t.activeIndex=0),void 0===t.autoPlay&&(t.autoPlay=!0),void 0===t.prevent&&(t.prevent=!0),"object"!==o(t.el)&&!document.getElementById(t.el))throw new Error("el option must be an existing HTML Element");if(-1===["left","right","up","down"].indexOf(t.direction))throw new Error('direction option must be one of ["left", "right", "up", "down"]');if(i("width",t.width),i("height",t.height),i("duration",t.duration),i("delay",t.delay),i("activeIndex",t.activeIndex),r("autoPlay",t.autoPlay),r("prevent",t.prevent),t.onChange&&"function"!=typeof t.onChange)throw new Error("onChange option must be a function")}(e);var l,s,u,d,f,h,p,y,m,v="object"===o(e.el)?e.el:document.getElementById(e.el),w=v.children[0],b=w.children,g=b.length,x="left"===e.direction||"right"===e.direction,A=x?"pageX":"pageY",E=x?"translateX":"translateY",j=x?e.width:e.height,S=j/e.duration*1e3/60,M={_innerActive:e.activeIndex+1};Object.defineProperty(M,"innerActive",{configurable:!1,enumerable:!0,get:function(){return M._innerActive},set:function(t){M._innerActive=t,t>0&&t<g+1&&e.onChange&&e.onChange(t-1)}}),v.style.display="block",v.style.width=e.width+"px",v.style.height=e.height+"px",v.style.overflow="hidden",w.style.display="block",w.style.zIndex="10",x?(w.style.height=e.height+"px",w.style.width=e.width*(g+2)+"px"):(w.style.height=e.height*(g+2)+"px",w.style.width=e.width+"px");for(var O=0;O<g;O++)b[O].style.display="block",b[O].style.width=e.width+"px",b[O].style.height=e.height+"px",x&&(b[O].style.float="left");var _=b[0].cloneNode(!0),P=b[g-1].cloneNode(!0);function C(){var t;return 0===(t=Math.round(Math.abs(u)/j))?t=g:t===g+1&&(t=1),--t}function I(){M.innerActive>g?M.innerActive=1:M.innerActive<1&&(M.innerActive=g),u=-j*M.innerActive,w.style.transform="".concat(E,"(").concat(u,"px)")}function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.delay;I(),l=setTimeout(function(){["left","up"].includes(e.direction)?M.innerActive++:M.innerActive--,d=-j*M.innerActive,F(e.direction,S)},t)}function F(t,e){s=c(function n(){m||(["left","up"].includes(t)?(u-=e)>d?(w.style.transform="".concat(E,"(").concat(u,"px)"),s=c(n)):l?k():I():(u+=e)<d?(w.style.transform="".concat(E,"(").concat(u,"px)"),s=c(n)):l?k():I())})}function L(t,e){var n=0,o=-(g+1)*j;s=c(function i(){m||(["left","up"].includes(t)?u<d&&u-e>o?(u-=e,w.style.transform="".concat(E,"(").concat(u,"px)"),s=c(i)):u-e<=o?(u=-j,w.style.transform="".concat(E,"(").concat(u,"px)"),s=c(i)):u-e>d?(u-=e,w.style.transform="".concat(E,"(").concat(u,"px)"),s=c(i)):l?k():I():u>d&&u+e<n?(u+=e,w.style.transform="".concat(E,"(").concat(u,"px)"),s=c(i)):u+e>=n?(u=-j*g,w.style.transform="".concat(E,"(").concat(u,"px)"),s=c(i)):u+e<d?(u+=e,w.style.transform="".concat(E,"(").concat(u,"px)"),s=c(i)):l?k():I())})}function T(t){n.stop(),p=Date.now(),f=t.touches[0][A],h=u,y=C()}function q(t){e.prevent&&t.preventDefault();var n=t.touches[0][A]-f,o=-j*(g+1);u=Math.min(0,Math.max(o,h+n)),w.style.transform="".concat(E,"(").concat(u,"px)")}function z(t){var e=Date.now()-p,o=(t.changedTouches[0][A]-f)/e;o<-.6?n.go(y===g-1?0:y+1):o>.6?n.go(0===y?g-1:y-1):(M.innerActive=Math.round(Math.abs(u)/j),d=-j*M.innerActive,m=!1,F(x?u<d?"right":"left":u<d?"down":"up",Math.abs(d-u)/15))}w.insertBefore(P,b[0]),w.appendChild(_),e.autoPlay?k():I(),v.addEventListener("touchstart",T),v.addEventListener("touchmove",q),v.addEventListener("touchend",z),this.start=function(){l||(m=!1,k(0))},this.stop=function(){m=!0,l&&clearTimeout(l),s&&a&&a(s)},this.continue=function(){l&&m&&(m=!1,F(e.direction,S))},this.go=function(t){if("number"!=typeof t&&-1===["left","right","up","down"].indexOf(t))throw new Error('only support index or one of ["left", "right", "up", "down"]');var e;if("number"==typeof t)e=t;else{if(x&&-1===["left","right"].indexOf(t)||!x&&-1===["up","down"].indexOf(t))throw new Error("direction conflict");e=C(),e="left"===t||"up"===t?e===g-1?0:e+1:0===e?g-1:e-1}M.innerActive=Math.max(Math.min(e+1,g),1),n.stop(),c(function(){m=!1;var t=j*g;u>-j?u-=t:u<-t&&(u+=t),w.style.transform="".concat(E,"(").concat(u,"px)"),d=-j*M.innerActive;var e=Math.abs(d-u);x?e<=t/2?F(u<d?"right":"left",e/20):L(u<d?"left":"right",(t-e)/20):e<=t/2?F(u<d?"down":"up",e/20):L(u<d?"up":"down",(t-e)/20)})},this.resize=function(t,n){i("width",t),i("height",n);var o=e.width,r=e.height;e.width=t,e.height=n,j=x?t:n,S=(x?t:n)/e.duration*1e3/60,v.style.width=t+"px",v.style.height=n+"px",x?(w.style.height=n+"px",w.style.width=t*(g+2)+"px",u%o==0&&(0===d?d=-o*g:d===-o*(g+1)&&(d=-o)),d*=t/o,u*=t/o,w.style.transform="".concat(E,"(").concat(u,"px)")):(w.style.height=n*(g+2)+"px",w.style.width=t+"px",u%r==0&&(0===d?d=-r*g:d===-r*(g+1)&&(d=-r)),d*=n/r,u*=n/r,w.style.transform="".concat(E,"(").concat(u,"px)"));for(var c=0;c<g+2;c++)b[c].style.width=t+"px",b[c].style.height=n+"px"},this.destroy=function(){n.stop(),v.removeEventListener("touchstart",T),v.removeEventListener("touchmove",q),v.removeEventListener("touchend",z),v.style.display="",v.style.width="",v.style.height="",v.style.overflow="",w.style.display="",w.style.height="",w.style.width="",w.style.transform="",w.removeChild(b[0]),w.removeChild(b[g]);for(var t=0;t<g;t++)b[t].style.display="",b[t].style.width="",b[t].style.height="",x&&(b[t].style.float="");for(var e in n)delete n[e];n.__proto__=null}}}]).default});