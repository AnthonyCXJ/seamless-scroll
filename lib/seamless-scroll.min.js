!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SeamlessScroll=e():t.SeamlessScroll=e()}(window,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!("number"==typeof e&&e>=0&&e!==1/0))throw new Error("".concat(t," option must be a non-negative number"))}function i(t,e){if(!0!==e&&!1!==e)throw new Error("".concat(t," option must be a boolean"))}n.r(e);var a=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,s=window.cancelAnimationFrame||window.mozCancelAnimationFrame;if(!a)throw new Error("seamless-scroll can't work, because of requestAnimationFrame is support in your browser！");"transition"in document.body.style==!1&&console.log("seamless-scroll may not work, because of css transition is support in your browser！"),e.default=function t(e){if(!(this instanceof t))throw new TypeError("SeamlessScroll must be called by the 'new' keyword as a constructor");var n=this;!function(t){if("[object Object]"!==Object.prototype.toString.apply(t))throw new Error("config must be an object");if(void 0===t.direction&&(t.direction="left"),void 0===t.duration&&(t.duration=300),void 0===t.delay&&(t.delay=3e3),void 0===t.activeIndex&&(t.activeIndex=0),void 0===t.autoPlay&&(t.autoPlay=!0),void 0===t.prevent&&(t.prevent=!0),"object"!==o(t.el)&&!document.getElementById(t.el))throw new Error("el option must be an existing HTML Element");if(-1===["left","right","up","down"].indexOf(t.direction))throw new Error('direction option must be one of ["left", "right", "up", "down"]');if(r("width",t.width),r("height",t.height),r("duration",t.duration),r("delay",t.delay),r("activeIndex",t.activeIndex),i("autoPlay",t.autoPlay),i("prevent",t.prevent),t.onChange&&"function"!=typeof t.onChange)throw new Error("onChange option must be a function")}(e);var c,l,h,f,u,d,p,y,w,m,g,v,b="object"===o(e.el)?e.el:document.getElementById(e.el),x=b.children[0],A=x.children,M=A.length,j="left"===e.direction||"right"===e.direction,S=(j?e.width:e.height)/e.duration*1e3/60,k={_innerActive:e.activeIndex+1};Object.defineProperty(k,"innerActive",{configurable:!1,enumerable:!0,get:function(){return k._innerActive},set:function(t){k._innerActive=t,t>0&&t<M+1&&e.onChange&&e.onChange(t-1)}}),b.style.display="block",b.style.width=e.width+"px",b.style.height=e.height+"px",b.style.overflow="hidden",x.style.display="block",j?(x.style.height=e.height+"px",x.style.width=e.width*(M+2)+"px"):(x.style.height=e.height*(M+2)+"px",x.style.width=e.width+"px");for(var X=0;X<M;X++)A[X].style.display="block",A[X].style.width=e.width+"px",A[X].style.height=e.height+"px",j&&(A[X].style.float="left");var Y=A[0].cloneNode(!0),O=A[M-1].cloneNode(!0);function E(){var t;return 0===(t=j?Math.round(Math.abs(m)/e.width):Math.round(Math.abs(g)/e.height))?t=M:t===M+1&&(t=1),--t}function _(){k.innerActive>M?k.innerActive=1:k.innerActive<1&&(k.innerActive=M),j?(m=-e.width*k.innerActive,x.style.transform="translateX(".concat(m,"px)")):(g=-e.height*k.innerActive,x.style.transform="translateY(".concat(g,"px)"))}function P(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.delay;_(),c=setTimeout(function(){switch(e.direction){case"left":k.innerActive++,h=-e.width*k.innerActive;break;case"up":k.innerActive++,h=-e.height*k.innerActive;break;case"right":k.innerActive--,h=-e.width*k.innerActive;break;case"down":k.innerActive--,h=-e.height*k.innerActive}C(e.direction,S)},t)}function C(t,e){l=a(function n(){if(!v)switch(t){case"left":(m-=e)>h?(x.style.transform="translateX(".concat(m,"px)"),l=a(n)):c?P():_();break;case"right":(m+=e)<h?(x.style.transform="translateX(".concat(m,"px)"),l=a(n)):c?P():_();break;case"up":(g-=e)>h?(x.style.transform="translateY(".concat(g,"px)"),l=a(n)):c?P():_();break;case"down":(g+=e)<h?(x.style.transform="translateY(".concat(g,"px)"),l=a(n)):c?P():_()}})}function T(t,n){var o=0,r=-(M+1)*(j?e.width:e.height);l=a(function i(){if(!v)switch(t){case"left":m<h&&m-n>r?(m-=n,x.style.transform="translateX(".concat(m,"px)"),l=a(i)):m-n<=r?(m=-e.width,x.style.transform="translateX(".concat(m,"px)"),l=a(i)):m-n>h?(m-=n,x.style.transform="translateX(".concat(m,"px)"),l=a(i)):c?P():_();break;case"right":m>h&&m+n<o?(m+=n,x.style.transform="translateX(".concat(m,"px)"),l=a(i)):m+n>=o?(m=-e.width*M,x.style.transform="translateX(".concat(m,"px)"),l=a(i)):m+n<h?(m+=n,x.style.transform="translateX(".concat(m,"px)"),l=a(i)):c?P():_();break;case"up":g<h&&g-n>r?(g-=n,x.style.transform="translateY(".concat(g,"px)"),l=a(i)):g-n<=r?(g=-e.height,x.style.transform="translateY(".concat(g,"px)"),l=a(i)):g-n>h?(g-=n,x.style.transform="translateY(".concat(g,"px)"),l=a(i)):c?P():_();break;case"down":g>h&&g+n<o?(g+=n,x.style.transform="translateY(".concat(g,"px)"),l=a(i)):g+n>=o?(g=-e.height*M,x.style.transform="translateY(".concat(g,"px)"),l=a(i)):g+n<h?(g+=n,x.style.transform="translateY(".concat(g,"px)"),l=a(i)):c?P():_()}})}x.insertBefore(O,A[0]),x.appendChild(Y),e.autoPlay?P():_(),b.ontouchstart=function(t){n.stop(),y=Date.now(),f=t.touches[0].pageX,u=t.touches[0].pageY,d=m,p=g,w=E()},b.ontouchmove=function(t){var n,o,r;e.prevent&&t.preventDefault(),j?(n=t.touches[0].pageX-f,m=d+n,o=0,r=-e.width*(M+1),m>o?m=o:m<r&&(m=r),x.style.transform="translateX(".concat(m,"px)")):(n=t.touches[0].pageY-u,g=p+n,o=0,r=-e.height*(M+1),g>o?g=o:g<r&&(g=r),x.style.transform="translateY(".concat(g,"px)"))},b.ontouchend=function(t){var o=Date.now()-y;if(j){var r=(t.changedTouches[0].pageX-f)/o;r<-.6?n.go(w===M-1?0:w+1):r>.6?n.go(0===w?M-1:w-1):(k.innerActive=Math.round(Math.abs(m)/e.width),h=-e.width*k.innerActive,v=!1,C(m<h?"right":"left",Math.abs(h-m)/15))}else{var i=(t.changedTouches[0].pageY-u)/o;i<-.6?n.go(w===M-1?0:w+1):i>.6?n.go(0===w?M-1:w-1):(k.innerActive=Math.round(Math.abs(g)/e.height),h=-e.height*k.innerActive,v=!1,C(g<h?"down":"up",Math.abs(h-g)/15))}},this.start=function(){c||(v=!1,P(0))},this.stop=function(){v=!0,c&&clearTimeout(c),l&&s&&s(l)},this.continue=function(){c&&v&&(v=!1,C(e.direction,S))},this.go=function(t){if("number"!=typeof t&&-1===["left","right","up","down"].indexOf(t))throw new Error('only support index or one of ["left", "right", "up", "down"]');var o;if("number"==typeof t)o=t;else{if(j&&-1===["left","right"].indexOf(t)||!j&&-1===["up","down"].indexOf(t))throw new Error("direction conflict");o=E(),o="left"===t||"up"===t?o===M-1?0:o+1:0===o?M-1:o-1}k.innerActive=Math.max(Math.min(o+1,M),1),n.stop(),a(function(){if(v=!1,j){var t=e.width*M;m>-e.width?m-=t:m<-t&&(m+=t),x.style.transform="translateX(".concat(m,"px)"),h=-e.width*k.innerActive;var n=Math.abs(h-m);n<=t/2?C(m<h?"right":"left",n/20):T(m<h?"left":"right",(t-n)/20)}else{var o=e.height*M;g>-e.height?g-=o:g<-o&&(g+=o),x.style.transform="translateY(".concat(g,"px)"),h=-e.height*k.innerActive;var r=Math.abs(h-g);r<=o/2?C(g<h?"down":"up",r/20):T(g<h?"up":"down",(o-r)/20)}})},this.resize=function(t,n){r("width",t),r("height",n);var o=e.width,i=e.height;e.width=t,e.height=n,S=(j?t:n)/e.duration*1e3/60,b.style.width=t+"px",b.style.height=n+"px",j?(x.style.height=n+"px",x.style.width=t*(M+2)+"px",h*=t/o,m*=t/o,x.style.transform="translateX(".concat(m,"px)")):(x.style.height=n*(M+2)+"px",x.style.width=t+"px",h*=n/i,g*=n/i,x.style.transform="translateY(".concat(m,"px)"));for(var a=0;a<M+2;a++)A[a].style.width=t+"px",A[a].style.height=n+"px"},this.destory=function(){n.stop(),b.style.display="",b.style.width="",b.style.height="",b.style.overflow="",x.style.display="",x.style.height="",x.style.width="",x.style.transform="",x.removeChild(A[0]),x.removeChild(A[M]);for(var t=0;t<M;t++)A[t].style.display="",A[t].style.width="",A[t].style.height="",j&&(A[t].style.float="");for(var e in n)delete n[e];n.__proto__=null}}}]).default});