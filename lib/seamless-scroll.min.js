!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SeamlessScroll=e():t.SeamlessScroll=e()}(window,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!("number"==typeof e&&e>=0&&e!==1/0))throw new Error("".concat(t," option must be a non-negative number"))}function i(t,e){if(!0!==e&&!1!==e)throw new Error("".concat(t," option must be a boolean"))}n.r(e);var a=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,s=window.cancelAnimationFrame||window.mozCancelAnimationFrame;if(!a)throw new Error("seamless-scroll can't work, because of requestAnimationFrame is support in your browser！");"transition"in document.body.style==!1&&console.log("seamless-scroll may not work, because of css transition is support in your browser！"),e.default=function t(e){if(!(this instanceof t))throw new TypeError("SeamlessScroll must be called by the 'new' keyword as a constructor");var n=this;!function(t){if("[object Object]"!==Object.prototype.toString.apply(t))throw new Error("config must be an object");if(void 0===t.direction&&(t.direction="left"),void 0===t.duration&&(t.duration=300),void 0===t.delay&&(t.delay=3e3),void 0===t.activeIndex&&(t.activeIndex=0),void 0===t.autoPlay&&(t.autoPlay=!0),void 0===t.prevent&&(t.prevent=!0),"object"!==o(t.el)&&!document.getElementById(t.el))throw new Error("el option must be an existing HTML Element");if(-1===["left","right","up","down"].indexOf(t.direction))throw new Error('direction option must be one of ["left", "right", "up", "down"]');if(r("width",t.width),r("height",t.height),r("duration",t.duration),r("delay",t.delay),r("activeIndex",t.activeIndex),i("autoPlay",t.autoPlay),i("prevent",t.prevent),t.onChange&&"function"!=typeof t.onChange)throw new Error("onChange option must be a function")}(e);var c,l,h,d,f,u,p,y,w,m,v,g,b="object"===o(e.el)?e.el:document.getElementById(e.el),x=b.children[0],A=x.children,E=A.length,M="left"===e.direction||"right"===e.direction,j=(M?e.width:e.height)/e.duration*1e3/60,S={_innerActive:e.activeIndex+1};Object.defineProperty(S,"innerActive",{configurable:!1,enumerable:!0,get:function(){return S._innerActive},set:function(t){S._innerActive=t,t>0&&t<E+1&&e.onChange&&e.onChange(t-1)}}),b.style.display="block",b.style.width=e.width+"px",b.style.height=e.height+"px",b.style.overflow="hidden",x.style.display="block",M?(x.style.height=e.height+"px",x.style.width=e.width*(E+2)+"px"):(x.style.height=e.height*(E+2)+"px",x.style.width=e.width+"px");for(var k=0;k<E;k++)A[k].style.display="block",A[k].style.width=e.width+"px",A[k].style.height=e.height+"px",M&&(A[k].style.float="left");var X=A[0].cloneNode(!0),Y=A[E-1].cloneNode(!0);function O(){var t;return 0===(t=M?Math.round(Math.abs(m)/e.width):Math.round(Math.abs(v)/e.height))?t=E:t===E+1&&(t=1),--t}function _(){S.innerActive>E?S.innerActive=1:S.innerActive<1&&(S.innerActive=E),M?(m=-e.width*S.innerActive,x.style.transform="translateX(".concat(m,"px)")):(v=-e.height*S.innerActive,x.style.transform="translateY(".concat(v,"px)"))}function P(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.delay;_(),c=setTimeout(function(){switch(e.direction){case"left":S.innerActive++,h=-e.width*S.innerActive;break;case"up":S.innerActive++,h=-e.height*S.innerActive;break;case"right":S.innerActive--,h=-e.width*S.innerActive;break;case"down":S.innerActive--,h=-e.height*S.innerActive}C(e.direction,j)},t)}function C(t,e){l=a(function n(){if(!g)switch(t){case"left":(m-=e)>h?(x.style.transform="translateX(".concat(m,"px)"),l=a(n)):c?P():_();break;case"right":(m+=e)<h?(x.style.transform="translateX(".concat(m,"px)"),l=a(n)):c?P():_();break;case"up":(v-=e)>h?(x.style.transform="translateY(".concat(v,"px)"),l=a(n)):c?P():_();break;case"down":(v+=e)<h?(x.style.transform="translateY(".concat(v,"px)"),l=a(n)):c?P():_()}})}function T(t,n){var o=0,r=-(E+1)*(M?e.width:e.height);l=a(function i(){if(!g)switch(t){case"left":m<h&&m-n>r?(m-=n,x.style.transform="translateX(".concat(m,"px)"),l=a(i)):m-n<=r?(m=-e.width,x.style.transform="translateX(".concat(m,"px)"),l=a(i)):m-n>h?(m-=n,x.style.transform="translateX(".concat(m,"px)"),l=a(i)):c?P():_();break;case"right":m>h&&m+n<o?(m+=n,x.style.transform="translateX(".concat(m,"px)"),l=a(i)):m+n>=o?(m=-e.width*E,x.style.transform="translateX(".concat(m,"px)"),l=a(i)):m+n<h?(m+=n,x.style.transform="translateX(".concat(m,"px)"),l=a(i)):c?P():_();break;case"up":v<h&&v-n>r?(v-=n,x.style.transform="translateY(".concat(v,"px)"),l=a(i)):v-n<=r?(v=-e.height,x.style.transform="translateY(".concat(v,"px)"),l=a(i)):v-n>h?(v-=n,x.style.transform="translateY(".concat(v,"px)"),l=a(i)):c?P():_();break;case"down":v>h&&v+n<o?(v+=n,x.style.transform="translateY(".concat(v,"px)"),l=a(i)):v+n>=o?(v=-e.height*E,x.style.transform="translateY(".concat(v,"px)"),l=a(i)):v+n<h?(v+=n,x.style.transform="translateY(".concat(v,"px)"),l=a(i)):c?P():_()}})}function F(t){n.stop(),y=Date.now(),d=t.touches[0].pageX,f=t.touches[0].pageY,u=m,p=v,w=O()}function I(t){var n,o,r;e.prevent&&t.preventDefault(),M?(n=t.touches[0].pageX-d,m=u+n,o=0,r=-e.width*(E+1),m>o?m=o:m<r&&(m=r),x.style.transform="translateX(".concat(m,"px)")):(n=t.touches[0].pageY-f,v=p+n,o=0,r=-e.height*(E+1),v>o?v=o:v<r&&(v=r),x.style.transform="translateY(".concat(v,"px)"))}function L(t){var o=Date.now()-y;if(M){var r=(t.changedTouches[0].pageX-d)/o;r<-.6?n.go(w===E-1?0:w+1):r>.6?n.go(0===w?E-1:w-1):(S.innerActive=Math.round(Math.abs(m)/e.width),h=-e.width*S.innerActive,g=!1,C(m<h?"right":"left",Math.abs(h-m)/15))}else{var i=(t.changedTouches[0].pageY-f)/o;i<-.6?n.go(w===E-1?0:w+1):i>.6?n.go(0===w?E-1:w-1):(S.innerActive=Math.round(Math.abs(v)/e.height),h=-e.height*S.innerActive,g=!1,C(v<h?"down":"up",Math.abs(h-v)/15))}}x.insertBefore(Y,A[0]),x.appendChild(X),e.autoPlay?P():_(),b.addEventListener("touchstart",F),b.addEventListener("touchmove",I),b.addEventListener("touchend",L),this.start=function(){c||(g=!1,P(0))},this.stop=function(){g=!0,c&&clearTimeout(c),l&&s&&s(l)},this.continue=function(){c&&g&&(g=!1,C(e.direction,j))},this.go=function(t){if("number"!=typeof t&&-1===["left","right","up","down"].indexOf(t))throw new Error('only support index or one of ["left", "right", "up", "down"]');var o;if("number"==typeof t)o=t;else{if(M&&-1===["left","right"].indexOf(t)||!M&&-1===["up","down"].indexOf(t))throw new Error("direction conflict");o=O(),o="left"===t||"up"===t?o===E-1?0:o+1:0===o?E-1:o-1}S.innerActive=Math.max(Math.min(o+1,E),1),n.stop(),a(function(){if(g=!1,M){var t=e.width*E;m>-e.width?m-=t:m<-t&&(m+=t),x.style.transform="translateX(".concat(m,"px)"),h=-e.width*S.innerActive;var n=Math.abs(h-m);n<=t/2?C(m<h?"right":"left",n/20):T(m<h?"left":"right",(t-n)/20)}else{var o=e.height*E;v>-e.height?v-=o:v<-o&&(v+=o),x.style.transform="translateY(".concat(v,"px)"),h=-e.height*S.innerActive;var r=Math.abs(h-v);r<=o/2?C(v<h?"down":"up",r/20):T(v<h?"up":"down",(o-r)/20)}})},this.resize=function(t,n){r("width",t),r("height",n);var o=e.width,i=e.height;e.width=t,e.height=n,j=(M?t:n)/e.duration*1e3/60,b.style.width=t+"px",b.style.height=n+"px",M?(x.style.height=n+"px",x.style.width=t*(E+2)+"px",m%o==0&&(void 0===h?h=-o:0===h?h=-o*E:h===-o*(E+1)&&(h=-o)),h*=t/o,m*=t/o,x.style.transform="translateX(".concat(m,"px)")):(x.style.height=n*(E+2)+"px",x.style.width=t+"px",v%i==0&&(void 0===h?h=-i:0===h?h=-i*E:h===-i*(E+1)&&(h=-i)),h*=n/i,v*=n/i,x.style.transform="translateY(".concat(m,"px)"));for(var a=0;a<E+2;a++)A[a].style.width=t+"px",A[a].style.height=n+"px"},this.destory=function(){n.stop(),b.removeEventListener("touchstart",F),b.removeEventListener("touchmove",I),b.removeEventListener("touchend",L),b.style.display="",b.style.width="",b.style.height="",b.style.overflow="",x.style.display="",x.style.height="",x.style.width="",x.style.transform="",x.removeChild(A[0]),x.removeChild(A[E]);for(var t=0;t<E;t++)A[t].style.display="",A[t].style.width="",A[t].style.height="",M&&(A[t].style.float="");for(var e in n)delete n[e];n.__proto__=null}}}]).default});